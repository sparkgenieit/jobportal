import{c as J,a as F,e as T,r as i,j as e,i as S,L as $,h as f,M as X,B as z,p as H,b as Q,D as se,y as W,E as D,s as G,u as B,R as te,d as ae,F as Z,H as ne,J as ie,K as le,I as V,G as ce,z as re,A as C,N as de}from"./index-DW7Jtefv.js";import{u as P,t as _,d as R,l as oe,p as me,m as he,i as U,n as E,o as xe,q as je,r as ue,N as ge}from"./index-BjWyLh7X.js";import{A as pe,R as be,G as fe,I as Ne,M as ve,C as we,a as ye,b as Ae}from"./AdminAuditLogs-Co3pY9jV.js";import{T as ee,c as q,B as ke,H as Se,F as Ce}from"./ShowMore-aN4txTUv.js";import{C as Ie}from"./ChatPage-D1pqQtkj.js";import"./csvFunctions-zqwoPGxM.js";const De=()=>{const{_id:s}=J();F();const[r]=T(),[h,m]=i.useState(0),[x,n]=i.useState(!1),[d,w]=i.useState(+r.get("page")||1),[v,A]=i.useState(null),l=P();i.useEffect(()=>{document.title="Job Queue List",a(d)},[]);const a=async o=>{n(!0);const y=(o-1)*S,{data:p,error:k}=await _(()=>f.get(`/jobs/queue?limit=${S}&skip=${y}`));p&&(A(p.jobs),m(p.total)),k&&l({status:"Error",error:k}),n(!1)};async function c(o){const y={adminId:s,jobId:o._id,jobsDto:o},{error:p}=await _(()=>f.post("/jobs/assign",y));if(p){l({status:"error",error:p});return}l({status:"success",message:"Job Assigend",path:"/admin/myasignjobs"})}return e.jsxs("div",{className:"container-fluid content-wrapper  bg-white",children:[e.jsx("h3",{className:"fs-4 fw-bold text-center ",children:" Job Queue List "}),e.jsx(R,{currentPage:d,setCurrentPage:w,totalCount:h,pageNumberToShow:2,itemsPerPage:S,fetchItems:a,children:e.jsxs("div",{className:"table-responsive",children:[x&&e.jsx($,{}),!x&&e.jsxs("table",{className:"table  ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Job id"}),e.jsx("th",{children:"Job Title"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Creation Date"}),e.jsx("th",{children:"Assign"})]})}),e.jsx("tbody",{children:v&&v.length>0&&v.map((o,y)=>e.jsxs("tr",{className:o.reportReason?"bg-gradient-danger":"",children:[e.jsx("td",{children:o._id}),e.jsx("td",{children:o.jobTitle}),e.jsx("td",{children:o.company}),e.jsx("td",{children:new Date(o.creationdate).toLocaleDateString("en-GB")}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn  btn-xs btn-success  col-12",onClick:()=>c(o),children:"Assign To Me"})})]},y))})]})]})})]})},_e=()=>{const{_id:s}=J();F();const[r]=T(),[h,m]=i.useState(0),[x,n]=i.useState(!1),[d,w]=i.useState(+r.get("page")||1),[v,A]=i.useState(null),l=P();i.useEffect(()=>{document.title="Ad Queue List",a(d)},[]);const a=async o=>{n(!0);const y=(o-1)*S,{data:p,error:k}=await _(()=>f.get(`/ads/queue?limit=${S}&skip=${y}`));p&&(A(p.ads),m(p.total)),k&&l({status:"Error",error:k}),n(!1)};async function c(o){const y={adminId:s,adId:o._id,companyAdsDto:o},{error:p}=await _(()=>f.post("/ads/assign",y));if(p){l({status:"error",error:p});return}l({status:"success",message:"Ad Assigend",path:"/admin/myasignads"})}return e.jsxs("div",{className:"container-fluid content-wrapper  bg-white",children:[e.jsx("h3",{className:"fs-4 fw-bold text-center ",children:" Ad Queue List "}),e.jsx(R,{currentPage:d,setCurrentPage:w,totalCount:h,pageNumberToShow:2,itemsPerPage:S,fetchItems:a,children:e.jsxs("div",{className:"table-responsive",children:[x&&e.jsx($,{}),!x&&e.jsxs("table",{className:"table  ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Ad id"}),e.jsx("th",{children:"Ad Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Creation Date"}),e.jsx("th",{children:"Assign"})]})}),e.jsx("tbody",{children:v&&v.length>0&&v.map((o,y)=>e.jsxs("tr",{className:o.reportReason?"bg-gradient-danger":"",children:[e.jsx("td",{children:o._id}),e.jsx("td",{children:o.title}),e.jsx("td",{children:e.jsx("div",{class:"request-top",style:{whiteSpace:"pre-wrap",overflowWrap:"break-word"},children:e.jsx("p",{children:o.description})})}),e.jsx("td",{children:new Date(o.creationdate).toLocaleDateString("en-GB")}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn  btn-xs btn-success  col-12",onClick:()=>c(o),children:"Assign To Me"})})]},y))})]})]})})]})};function O({handleClose:s,ad:r,userId:h}){const[m,x]=i.useState(""),[n,d]=i.useState("");let w=!0;function v(l){x(l.target.value),l.target.value==""?d("border border-red-500"):d("")}function A(l){if(m.trim()!==""){d("");const a={adminId:h,adId:l._id,companyAdsDto:l};f.post("/ads/reject",a).then(c=>{if(c&&c.status){const o={userId:l.adminId,adId:l._id,adTitle:l.adTitle,status:"Rejected",isRead:!1,message:m,createdAt:Date.now()};return f.post("/notifications/create",o)}}).then(c=>{setTimeout(()=>{window.location.reload()},500)}).catch(c=>console.log(c))}else d("border border-red-500")}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"border p-3 bg-white shadow-sm rounded-lg",children:e.jsx(X,{show:w,onHide:s,centered:!0,children:e.jsxs(X.Body,{children:[e.jsx("label",{className:"font-bold text-center",children:"Mention why this ad was rejected"}),e.jsx("div",{children:e.jsx("textarea",{className:"textarea w-100 shadow-sm "+n,value:m,onChange:l=>{v(l)},rows:"5",placeholder:"Type Here"})}),e.jsxs("div",{className:"px-5 flex justify-between py-2",children:[e.jsx("button",{className:"my-button button-reject",onClick:()=>A(r),children:"Reject"}),e.jsx("button",{className:"my-button button-cancel",onClick:s,children:"Cancel"})]})]})})})})}function Pe(){const[s,r]=i.useState(null),[h,m]=i.useState(),[x]=T(),n=F(),[d,w]=i.useState(0),[v,A]=i.useState(+x.get("page")||1),[l,a]=i.useState(!1),[c,o]=i.useState(!1),y=P(),{_id:p}=J();i.useEffect(()=>{document.title="Assigned Ads",k(v)},[]);const k=async t=>{o(!0);const N=(t-1)*S;try{const g=await f.get(`/ads/assignedAds?limit=${S}&skip=${N}`);r(g.data.ads),w(g.data.total)}catch(g){y({status:"error",error:g})}finally{o(!1)}},M=()=>{a(!1)};function j(t){const N={adminId:p,adId:t._id,companyAdsDto:t};f.post("/ads/approve",N).then(g=>{if(g&&g.status){const L={userId:t.companyId,adId:t._id,adTitle:t.adTitle,status:"Approved",isRead:!1,message:"",createdAt:Date.now()};return f.post("/notifications/create",L)}}).then(g=>{k(v)}).catch(g=>{y({status:"error",error:g})})}function b(t){n(`/admin/view-ad/${t._id}`)}function u(t){const N={adminId:p,adId:t._id,companyAdsDto:t};f.post("/ads/release",N).then(g=>{g&&g.status&&setTimeout(()=>{n("/admin/adsqueuelist")},500)}).catch(g=>{y({status:"error",error:g})})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"content-wrapper p-0 pt-4 bg-white",children:[e.jsx("h3",{className:"fs-4 fw-bold text-center",children:"Assigned Ads"}),e.jsx(R,{currentPage:v,setCurrentPage:A,itemsPerPage:S,totalCount:d,fetchItems:k,pageNumberToShow:2,children:e.jsxs("div",{className:"table-responsive",children:[c&&e.jsx($,{}),!c&&e.jsx("table",{className:"table",children:e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Ad id"}),e.jsx("th",{children:"Ad Title"}),e.jsx("th",{children:"Ad"}),e.jsx("th",{children:"Creation Date"}),e.jsx("th",{children:"    "}),e.jsx("th",{children:"    "})]}),s&&s.length>0&&s.map((t,N)=>e.jsxs("tr",{children:[e.jsx("td",{children:t._id}),e.jsx("td",{children:t.title}),e.jsxs("td",{children:[" ",t.image&&e.jsx("img",{src:`${z}/uploads/ads/${t==null?void 0:t.image}`,className:"h-[100px] w-[250px] rounded-md"})]}),e.jsx("td",{children:new Date(t.creationdate).toLocaleDateString("en-GB")}),e.jsx("td",{children:e.jsx("button",{onClick:()=>b(t),type:"button",className:"btn btn-info btn-xs col-12 ",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",fill:"currentColor",className:"bi bi-eye",viewBox:"0 0 16 16",children:[e.jsx("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),e.jsx("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"})]})})}),e.jsx("td",{children:t.status==="REVIEW"&&e.jsx("button",{onClick:()=>u(t),type:"button",className:"btn btn-outline-dark btn-xs col-12  ",children:"Release"})}),e.jsxs("td",{children:[(t.status==="REVIEW"||t.status==="rejected")&&e.jsx("button",{onClick:()=>j(t),type:"button",className:"btn btn-outline-info btn-xs col-12  ",children:"Approve"}),(t.status==="closed"||t.status==="expired")&&e.jsx("button",{disabled:!0,type:"button",className:"btn btn-outline-info text-capitalize btn-xs col-12  ",children:t.status}),t.status==="LIVE"&&e.jsx("button",{disabled:!0,type:"button",className:"btn btn-success btn-xs col-12  ",children:"Approved"})]}),e.jsxs("td",{children:[(t.status==="REVIEW"||t.status==="LIVE")&&e.jsx("button",{onClick:()=>{a(!0),m(t)},type:"button",className:"btn  btn-xs btn-outline-danger col-12",children:"Reject"}),t.status==="rejected"&&e.jsx("button",{disabled:!0,type:"button",className:"btn  btn-xs btn-danger col-12",children:"Rejected"})]})]},N))]})})]})})]})}),l&&e.jsx(O,{handleClose:M,ad:h,userId:p})]})}function Me(){const s=H(),[r,h]=i.useState(),m=localStorage.getItem("user_id"),[x,n]=i.useState(!1),d=P(),w=async()=>{const{data:l,error:a}=await _(()=>f.get(`/jobs/${s.id}`));l&&(h(l),document.title=l.jobTitle+" | "+l.company),a&&d({status:"Error",error:a})};i.useEffect(()=>{w()},[]);function v(l){const a={adminId:m,jobId:l._id,jobsDto:l};f.post("/jobs/approve",a).then(c=>{if(c&&c.status){const o={userId:l.companyId,jobId:l._id,jobTitle:l.jobTitle,status:"Approved",isRead:!1,message:"",createdAt:Date.now()};return f.post("/notifications/create",o)}}).then(c=>{w()}).catch(c=>d({status:"Error",error:c}))}const A=()=>{n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container-fluid",children:r&&e.jsx(pe,{jobview:r,handleApprove:v,setShow:n})}),x&&e.jsx(O,{handleClose:A,job:r,userId:m})]})}function Ee({adView:s,handleApprove:r,setShow:h}){const m=i.useMemo(()=>new Date(s==null?void 0:s.creationdate).toLocaleDateString("en-GB"),[s]);return e.jsx(e.Fragment,{children:s&&e.jsxs("div",{className:"d-flex flex-column gap-3 mt-3",children:[e.jsxs("div",{className:"d-flex flex-column flex-md-row border border-success rounded p-3",children:[s.image&&e.jsx("img",{style:{maxWidth:"300px",maxHeight:"200px"},className:"rounded border border-secondary me-md-3 mb-3 mb-md-0",src:`${z}/uploads/ads/${s.image}`,alt:s.title}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h4",{children:s.title}),e.jsx("p",{children:s.location}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",s.type," | ",e.jsx("strong",{children:"End Date:"})," ",new Date(s.end_date).toLocaleDateString()]}),e.jsxs("p",{children:[m," (",oe(m),")"]})]})]}),s.redirect_url&&e.jsx("a",{href:s.redirect_url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:"Visit Ad URL"}),e.jsx("div",{className:"border border-success rounded p-3",children:e.jsx("p",{children:me(he(s.description||""))})}),e.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-3",children:[s.status!=="LIVE"&&e.jsx("button",{type:"button",onClick:()=>r(s),className:"btn btn-success",children:"Approve"}),s.status==="LIVE"&&e.jsx("button",{type:"button",disabled:!0,className:"btn btn-success",children:"Approved"}),s.status==="REJECTED"&&e.jsx("button",{type:"button",disabled:!0,className:"btn btn-danger",children:"Rejected"}),s.status!=="REJECTED"&&e.jsx("button",{type:"button",onClick:()=>h(!0),className:"btn btn-outline-danger",children:"Reject"})]})]})})}function Te(){const s=H(),[r,h]=i.useState(),m=localStorage.getItem("user_id"),[x,n]=i.useState(!1),d=P(),w=async()=>{const{data:l,error:a}=await _(()=>f.get(`/ads/details/${s.id}`));l&&(h(l),document.title=l.title),a&&d({status:"Error",error:a})};i.useEffect(()=>{w()},[]);function v(l){const a={adminId:m,adId:l._id,companyAdsDto:l};f.post("/ads/approve",a).then(c=>{if(c&&c.status){const o={userId:l.companyId,adId:l._id,adTitle:l.adTitle,status:"Approved",isRead:!1,message:"",createdAt:Date.now()};return f.post("/notifications/create",o)}}).then(()=>{w()}).catch(c=>d({status:"Error",error:c}))}const A=()=>{n(!1)};return e.jsxs(e.Fragment,{children:[console.log(r),e.jsx("div",{className:"container-fluid",children:r&&e.jsx(Ee,{adView:r,handleApprove:v,setShow:n})}),x&&e.jsx(O,{handleClose:A,ad:r,userId:m})]})}function $e(){return i.useEffect(()=>{document.title="Dashboard"},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"content-wrapper bg-white",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("h3",{className:"page-title",children:[e.jsx("span",{className:"page-title-icon bg-gradient-primary text-white me-2",children:e.jsx("i",{className:"mdi mdi-home"})})," Dashboard"]}),e.jsx("nav",{"aria-label":"breadcrumb",children:e.jsx("ul",{className:"breadcrumb",children:e.jsxs("li",{className:"breadcrumb-item active","aria-current":"page",children:[e.jsx("span",{}),"Overview ",e.jsx("i",{className:"mdi mdi-alert-circle-outline icon-sm text-primary align-middle"})]})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4 stretch-card grid-margin",children:e.jsx("div",{className:"card bg-gradient-danger card-img-holder text-white",children:e.jsxs("div",{className:"card-body",children:[e.jsx("img",{src:"assets/images/dashboard/circle.svg",className:"card-img-absolute",alt:"circle-image"}),e.jsxs("h4",{className:"font-weight-normal mb-3",children:["Total Jobs ",e.jsx("i",{className:"mdi mdi-chart-line mdi-24px float-right"})]}),e.jsx("h2",{className:"mb-5",children:"$ 15,0000"}),e.jsx("h6",{className:"card-text",children:"Increased by 60%"})]})})}),e.jsx("div",{className:"col-md-4 stretch-card grid-margin",children:e.jsx("div",{className:"card bg-gradient-info card-img-holder text-white",children:e.jsxs("div",{className:"card-body",children:[e.jsx("img",{src:"assets/images/dashboard/circle.svg",className:"card-img-absolute",alt:"circle-image"}),e.jsxs("h4",{className:"font-weight-normal mb-3",children:["Selected Canditates",e.jsx("i",{className:"mdi mdi-bookmark-outline mdi-24px float-right"})]}),e.jsx("h2",{className:"mb-5",children:"45,6334"}),e.jsx("h6",{className:"card-text",children:"Decreased by 10%"})]})})}),e.jsx("div",{className:"col-md-4 stretch-card grid-margin",children:e.jsx("div",{className:"card bg-gradient-success card-img-holder text-white",children:e.jsxs("div",{className:"card-body",children:[e.jsx("img",{src:"assets/images/dashboard/circle.svg",className:"card-img-absolute",alt:"circle-image"}),e.jsxs("h4",{className:"font-weight-normal mb-3",children:["Visitors Online ",e.jsx("i",{className:"mdi mdi-diamond mdi-24px float-right"})]}),e.jsx("h2",{className:"mb-5",children:"95,5741"}),e.jsx("h6",{className:"card-text",children:"Increased by 5%"})]})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-7 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"clearfix",children:[e.jsx("h4",{className:"card-title float-left",children:"Visit And Sales Statistics"}),e.jsx("div",{id:"visit-sale-chart-legend",className:"rounded-legend legend-horizontal legend-top-right float-right"})]}),e.jsx("canvas",{id:"visit-sale-chart",className:"mt-4"})]})})}),e.jsx("div",{className:"col-md-5 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"card-title",children:"Traffic Sources"}),e.jsx("canvas",{id:"traffic-chart"}),e.jsx("div",{id:"traffic-chart-legend",className:"rounded-legend legend-vertical legend-bottom-left pt-4"})]})})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 grid-margin",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"card-title",children:"Recent Tickets"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" Assignee "}),e.jsx("th",{children:" Subject "}),e.jsx("th",{children:" Status "}),e.jsx("th",{children:" Last Update "}),e.jsx("th",{children:" Tracking ID "})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("img",{src:"assets/images/faces/face1.jpg",className:"me-2",alt:"image"})," David Grey"]}),e.jsx("td",{children:" Fund is not recieved "}),e.jsx("td",{children:e.jsx("label",{className:"badge badge-gradient-success",children:"DONE"})}),e.jsx("td",{children:" Dec 5, 2017 "}),e.jsx("td",{children:" WD-12345 "})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("img",{src:"assets/images/faces/face2.jpg",className:"me-2",alt:"image"})," Stella Johnson"]}),e.jsx("td",{children:" High loading time "}),e.jsx("td",{children:e.jsx("label",{className:"badge badge-gradient-warning",children:"PROGRESS"})}),e.jsx("td",{children:" Dec 12, 2017 "}),e.jsx("td",{children:" WD-12346 "})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("img",{src:"assets/images/faces/face3.jpg",className:"me-2",alt:"image"})," Marina Michel"]}),e.jsx("td",{children:" Website down for one week "}),e.jsx("td",{children:e.jsx("label",{className:"badge badge-gradient-info",children:"ON HOLD"})}),e.jsx("td",{children:" Dec 16, 2017 "}),e.jsx("td",{children:" WD-12347 "})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("img",{src:"assets/images/faces/face4.jpg",className:"me-2",alt:"image"})," John Doe"]}),e.jsx("td",{children:" Loosing control on server "}),e.jsx("td",{children:e.jsx("label",{className:"badge badge-gradient-danger",children:"REJECTED"})}),e.jsx("td",{children:" Dec 3, 2017 "}),e.jsx("td",{children:" WD-12348 "})]})]})]})})]})})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"card-title",children:"Recent Updates"}),e.jsxs("div",{className:"d-flex",children:[e.jsxs("div",{className:"d-flex align-items-center me-4 text-muted font-weight-light",children:[e.jsx("i",{className:"mdi mdi-account-outline icon-sm me-2"}),e.jsx("span",{children:"jack Menqu"})]}),e.jsxs("div",{className:"d-flex align-items-center text-muted font-weight-light",children:[e.jsx("i",{className:"mdi mdi-clock icon-sm me-2"}),e.jsx("span",{children:"October 3rd, 2018"})]})]}),e.jsxs("div",{className:"row mt-3",children:[e.jsxs("div",{className:"col-6 pe-1",children:[e.jsx("img",{src:"assets/images/dashboard/img_1.jpg",className:"mb-2 mw-100 w-100 rounded",alt:"image"}),e.jsx("img",{src:"assets/images/dashboard/img_4.jpg",className:"mw-100 w-100 rounded",alt:"image"})]}),e.jsxs("div",{className:"col-6 ps-1",children:[e.jsx("img",{src:"assets/images/dashboard/img_2.jpg",className:"mb-2 mw-100 w-100 rounded",alt:"image"}),e.jsx("img",{src:"assets/images/dashboard/img_3.jpg",className:"mw-100 w-100 rounded",alt:"image"})]})]}),e.jsxs("div",{className:"d-flex mt-5 align-items-top",children:[e.jsx("img",{src:"assets/images/faces/face3.jpg",className:"img-sm rounded-circle me-3",alt:"image"}),e.jsxs("div",{className:"mb-0 flex-grow",children:[e.jsx("h5",{className:"me-2 mb-2",children:"School Website - Authentication Module."}),e.jsx("p",{className:"mb-0 font-weight-light",children:"It is a long established fact that a reader will be distracted by the readable content of a page."})]}),e.jsx("div",{className:"ms-auto",children:e.jsx("i",{className:"mdi mdi-heart-outline text-muted"})})]})]})})})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-7 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"card-title",children:"Project Status"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" # "}),e.jsx("th",{children:" Name "}),e.jsx("th",{children:" Due Date "}),e.jsx("th",{children:" Progress "})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:" 1 "}),e.jsx("td",{children:" Herman Beck "}),e.jsx("td",{children:" May 15, 2015 "}),e.jsx("td",{children:e.jsx("div",{className:"progress",children:e.jsx("div",{className:"progress-bar bg-gradient-success",role:"progressbar",style:{width:"25%"},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"})})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:" 2 "}),e.jsx("td",{children:" Messsy Adam "}),e.jsx("td",{children:" Jul 01, 2015 "}),e.jsx("td",{children:e.jsx("div",{className:"progress",children:e.jsx("div",{className:"progress-bar bg-gradient-danger",role:"progressbar",style:{width:"75%"},"aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"})})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:" 3 "}),e.jsx("td",{children:" John Richards "}),e.jsx("td",{children:" Apr 12, 2015 "}),e.jsx("td",{children:e.jsx("div",{className:"progress",children:e.jsx("div",{className:"progress-bar bg-gradient-warning",role:"progressbar",style:{width:"90%"},"aria-valuenow":"90","aria-valuemin":"0","aria-valuemax":"100"})})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:" 4 "}),e.jsx("td",{children:" Peter Meggik "}),e.jsx("td",{children:" May 15, 2015 "}),e.jsx("td",{children:e.jsx("div",{className:"progress",children:e.jsx("div",{className:"progress-bar bg-gradient-primary",role:"progressbar",style:{width:"50%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:" 5 "}),e.jsx("td",{children:" Edward "}),e.jsx("td",{children:" May 03, 2015 "}),e.jsx("td",{children:e.jsx("div",{className:"progress",children:e.jsx("div",{className:"progress-bar bg-gradient-danger",role:"progressbar",style:{width:"35%"},"aria-valuenow":"35","aria-valuemin":"0","aria-valuemax":"100"})})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:" 5 "}),e.jsx("td",{children:" Ronald "}),e.jsx("td",{children:" Jun 05, 2015 "}),e.jsx("td",{children:e.jsx("div",{className:"progress",children:e.jsx("div",{className:"progress-bar bg-gradient-info",role:"progressbar",style:{width:"65%"},"aria-valuenow":"65","aria-valuemin":"0","aria-valuemax":"100"})})})]})]})]})})]})})}),e.jsx("div",{className:"col-md-5 grid-margin stretch-card",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"card-title text-white",children:"Todo"}),e.jsxs("div",{className:"add-items d-flex",children:[e.jsx("input",{type:"text",className:"form-control todo-list-input",placeholder:"What do you need to do today?"}),e.jsx("button",{className:"add btn btn-gradient-primary font-weight-bold todo-list-add-btn",id:"add-task",children:"Add"})]}),e.jsx("div",{className:"list-wrapper",children:e.jsxs("ul",{className:"d-flex flex-column-reverse todo-list todo-list-custom",children:[e.jsxs("li",{children:[e.jsx("div",{className:"form-check",children:e.jsxs("label",{className:"form-check-label",children:[e.jsx("input",{className:"checkbox",type:"checkbox"})," Meeting with Alisa "]})}),e.jsx("i",{className:"remove mdi mdi-close-circle-outline"})]}),e.jsxs("li",{className:"completed",children:[e.jsx("div",{className:"form-check",children:e.jsxs("label",{className:"form-check-label",children:[e.jsx("input",{className:"checkbox",type:"checkbox"})," Call John "]})}),e.jsx("i",{className:"remove mdi mdi-close-circle-outline"})]}),e.jsxs("li",{children:[e.jsx("div",{className:"form-check",children:e.jsxs("label",{className:"form-check-label",children:[e.jsx("input",{className:"checkbox",type:"checkbox"})," Create invoice "]})}),e.jsx("i",{className:"remove mdi mdi-close-circle-outline"})]}),e.jsxs("li",{children:[e.jsx("div",{className:"form-check",children:e.jsxs("label",{className:"form-check-label",children:[e.jsx("input",{className:"checkbox",type:"checkbox"})," Print Statements "]})}),e.jsx("i",{className:"remove mdi mdi-close-circle-outline"})]}),e.jsxs("li",{className:"completed",children:[e.jsx("div",{className:"form-check",children:e.jsxs("label",{className:"form-check-label",children:[e.jsx("input",{className:"checkbox",type:"checkbox"})," Prepare for presentation "]})}),e.jsx("i",{className:"remove mdi mdi-close-circle-outline"})]}),e.jsxs("li",{children:[e.jsx("div",{className:"form-check",children:e.jsxs("label",{className:"form-check-label",children:[e.jsx("input",{className:"checkbox",type:"checkbox"})," Pick up kids from school "]})}),e.jsx("i",{className:"remove mdi mdi-close-circle-outline"})]})]})})]})})})]})]})})})}function Re(){const[s,r]=i.useState(null),[h,m]=i.useState(),[x]=T(),n=F(),[d,w]=i.useState(0),[v,A]=i.useState(+x.get("page")||1),[l,a]=i.useState(!1),[c,o]=i.useState(!1),y=P(),{_id:p}=J();i.useEffect(()=>{document.title="Assigned Jobs",k(v)},[]);const k=async t=>{o(!0);const N=(t-1)*S;try{const g=await f.get(`/jobs/assignedJobs?limit=${S}&skip=${N}`);r(g.data.jobs),w(g.data.total)}catch(g){y({status:"error",error:g})}finally{o(!1)}},M=()=>{a(!1)};function j(t){const N={adminId:p,jobId:t._id,jobsDto:t};f.post("/jobs/approve",N).then(g=>{if(g&&g.status){const L={userId:t.companyId,jobId:t._id,jobTitle:t.jobTitle,status:"Approved",isRead:!1,message:"",createdAt:Date.now()};return f.post("/notifications/create",L)}}).then(g=>{k(v)}).catch(g=>{y({status:"error",error:g})})}function b(t){n(`/admin/view-job/${t._id}`)}function u(t){const N={adminId:p,jobId:t._id,jobsDto:t};f.post("/jobs/release",N).then(g=>{g&&g.status&&setTimeout(()=>{n("/admin/Jobqueuelist")},500)}).catch(g=>{y({status:"error",error:g})})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"content-wrapper p-0 pt-4 bg-white",children:[e.jsx("h3",{className:"fs-4 fw-bold text-center",children:"Assigned Jobs"}),e.jsx(R,{currentPage:v,setCurrentPage:A,itemsPerPage:S,totalCount:d,fetchItems:k,pageNumberToShow:2,children:e.jsxs("div",{className:"table-responsive",children:[c&&e.jsx($,{}),!c&&e.jsx("table",{className:"table",children:e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Job id"}),e.jsx("th",{children:"Job Title"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Creation Date"}),e.jsx("th",{children:"    "}),e.jsx("th",{children:"    "})]}),s&&s.length>0&&s.map((t,N)=>e.jsxs("tr",{children:[e.jsx("td",{children:t._id}),e.jsx("td",{children:t.jobTitle}),e.jsx("td",{children:t.company}),e.jsx("td",{children:new Date(t.creationdate).toLocaleDateString("en-GB")}),e.jsx("td",{children:e.jsx("button",{onClick:()=>b(t),type:"button",className:"btn btn-info btn-xs col-12 ",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",fill:"currentColor",className:"bi bi-eye",viewBox:"0 0 16 16",children:[e.jsx("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),e.jsx("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"})]})})}),e.jsx("td",{children:t.status==="review"&&e.jsx("button",{onClick:()=>u(t),type:"button",className:"btn btn-outline-dark btn-xs col-12  ",children:"Release"})}),e.jsxs("td",{children:[(t.status==="review"||t.status==="rejected")&&e.jsx("button",{onClick:()=>j(t),type:"button",className:"btn btn-outline-info btn-xs col-12  ",children:"Approve"}),(t.status==="closed"||t.status==="expired")&&e.jsx("button",{disabled:!0,type:"button",className:"btn btn-outline-info text-capitalize btn-xs col-12  ",children:t.status}),t.status==="approved"&&e.jsx("button",{disabled:!0,type:"button",className:"btn btn-success btn-xs col-12  ",children:"Approved"})]}),e.jsxs("td",{children:[(t.status==="review"||t.status==="approved")&&e.jsx("button",{onClick:()=>{a(!0),m(t)},type:"button",className:"btn  btn-xs btn-outline-danger col-12",children:"Reject"}),t.status==="rejected"&&e.jsx("button",{disabled:!0,type:"button",className:"btn  btn-xs btn-danger col-12",children:"Rejected"})]})]},N))]})})]})})]})}),l&&e.jsx(be,{handleClose:M,job:h,userId:p})]})}function Le(){const[s,r]=i.useState(null),[h,m]=i.useState(0),[x,n]=i.useState(!1),[d,w]=T(),[v,A]=i.useState(d.get("q")||""),[l,a]=i.useState(+d.get("page")||1),c=P(),o=Q(),y=J();i.useEffect(()=>{document.title="Inbox",M(l)},[]);const p=j=>{var b;(b=j==null?void 0:j.readBy)!=null&&b.includes(y._id)||o(se()),c({path:`details/${j._id}`})},k=j=>{A(j.target.value),w(b=>(b.set("q",j.target.value),b.delete("page"),b)),a(1),M(1,j.target.value)},M=async(j,b=v)=>{n(!0);const u=(j-1)*S;try{const t=`/mails/employer/all?s=${b}&limit=${S}&skip=${u}`,{data:N}=await f.get(t);n(!1),r(N.mails),m(N.total)}catch{n(!1),r([]),m(0)}};return e.jsx("div",{className:" mt-3 container-fluid",children:e.jsxs(R,{currentPage:l,totalCount:h,setCurrentPage:a,itemsPerPage:S,pageNumberToShow:2,fetchItems:M,children:[e.jsx("h2",{className:"fw-bold fs-4 text-center",children:"Inbox"}),e.jsx("div",{className:"my-3",children:e.jsx("input",{type:"search",className:"form-control",placeholder:"Search inbox",value:v,onChange:j=>k(j)})}),e.jsxs("div",{className:"table-responsive",children:[x&&e.jsx($,{}),!x&&e.jsxs("table",{className:"table text-start table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",children:"Date"}),e.jsx("th",{children:"From"}),e.jsx("th",{children:"Subject"}),e.jsx("th",{children:"Message"})]})}),e.jsx("tbody",{children:s&&(s==null?void 0:s.map((j,b)=>{var u,t,N,g,L,K,Y;return e.jsx("tr",{role:"button",className:(u=j==null?void 0:j.readBy)!=null&&u.includes(y._id)?"":"fw-bold",onClick:()=>p(j),children:j.enquirer==="Visitor"?e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-center",children:U(j.createdAt)}),e.jsx("td",{children:j.name}),e.jsx("td",{className:"text-wrap",children:j.subject}),e.jsx("td",{className:"text-wrap",children:((t=j.chat)==null?void 0:t.length)>0&&((N=j.chat[0])==null?void 0:N.message)})]}):e.jsx(e.Fragment,{children:j.chat&&((g=j.chat)==null?void 0:g.length)>0&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-center",children:U((L=j.chat[0])==null?void 0:L.date)}),e.jsx("td",{children:(K=j.chat[0])==null?void 0:K.from}),e.jsx("td",{className:"text-wrap",children:E(j==null?void 0:j.subject,40)}),e.jsx("td",{className:"text-wrap",children:E((Y=j.chat[0])==null?void 0:Y.message,50)})]})})},b)}))})]})]})]})})}function Je(){const[s,r]=i.useState([]),[h,m]=i.useState(0),[x,n]=i.useState(!1),[d,w]=i.useState(""),[v,A]=i.useState(!1),[l,a]=T(),[c,o]=i.useState(+l.get("page")||1),y=Q(),p=P();i.useEffect(()=>{document.title="Employer Queries",k(c)},[d]);const k=async b=>{n(!0);const u=(b-1)*S;try{const t=await f.get(`/mails/unassigned-mails/employer?s=${d}&limit=${S}&skip=${u}`);r(t.data.mails),m(t.data.total)}catch(t){p({status:"Error",error:t})}finally{n(!1)}},M=b=>{w(b.target.value),a(u=>(u.delete("page"),u)),o(1)},j=async b=>{A(!0);try{await f.patch(`/mails/assign-mail?query_id=${b._id}`),p({status:"Success",message:"Assigned Successfully",path:"/admin/inbox"}),y(W())}catch(u){p({status:"Error",error:u})}finally{A(!1)}};return e.jsxs("div",{className:"mt-3 container-fluid",children:[e.jsx("h2",{className:"fw-bold fs-4 text-center",children:"Employer Queries"}),e.jsx("div",{id:"search-box",className:"my-2",children:e.jsx("input",{type:"text",value:d,onChange:b=>M(b),className:"form-control",placeholder:"Search Queries"})}),e.jsxs(R,{currentPage:c,totalCount:h,setCurrentPage:o,itemsPerPage:S,pageNumberToShow:2,fetchItems:k,children:[x&&e.jsx($,{}),!x&&e.jsxs(ee,{responsive:!0,className:"w-100",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"Date"}),e.jsx("td",{children:"Company"}),e.jsx("td",{children:"Subject"}),e.jsx("td",{children:"Message"}),e.jsx("td",{})]})}),e.jsx("tbody",{children:s&&s.length>0&&s.map((b,u)=>{var t,N;return e.jsxs("tr",{children:[e.jsx("td",{children:new Date(b.createdAt).toLocaleDateString("en-GB")}),e.jsx("td",{children:b.chat[0].from}),e.jsx("td",{children:E(b.subject,40)}),e.jsx("td",{children:((t=b.chat)==null?void 0:t.length)>0&&E((N=b==null?void 0:b.chat[0])==null?void 0:N.message,50)}),e.jsx("td",{children:e.jsx("button",{onClick:()=>j(b),disabled:v,className:"btn btn-xs btn-info rounded-4 ",children:"Assign to me"})})]},u)})})]})]})]})}function Qe(){return e.jsx(e.Fragment,{children:e.jsx("link",{href:"/assets/css/style.css",rel:"stylesheet"})})}function ze(){const s=Q(),{first_name:r,last_name:h}=J(),m=r+" "+h;return e.jsxs(e.Fragment,{children:[e.jsx(Qe,{}),e.jsxs("nav",{className:"navbar default-layout-navbar col-lg-12 col-12 pt-2 fixed-top d-flex flex-row",children:[e.jsx("div",{className:"text-center navbar-brand-wrapper d-flex align-items-center justify-content-center",children:e.jsx(D,{to:"/",children:e.jsx("img",{className:"logo",src:"/assets/images/logo-jp.png",alt:"logo"})})}),e.jsx("div",{className:"navbar-menu-wrapper d-flex align-items-stretch",children:e.jsxs("ul",{className:"navbar-nav navbar-nav-right",children:[e.jsx("li",{className:"nav-item nav-profile dropdown",children:e.jsxs(D,{className:"nav-link",to:"#","aria-expanded":"false",children:[e.jsxs("div",{className:"nav-profile-img d-none d-md-inline",children:[e.jsx("img",{src:"/assets/images/faces/face1.jpg",alt:"image"}),e.jsx("span",{className:"availability-status online"})]}),e.jsx("div",{className:"nav-profile-text",children:e.jsx("p",{className:"mb-1 text-black",children:m})})]})}),e.jsx("li",{className:"nav-item d-none d-lg-block full-screen-link",children:e.jsx(D,{className:"nav-link",children:e.jsx("i",{className:"mdi mdi-fullscreen",id:"fullscreen-button"})})}),e.jsxs("li",{className:"nav-item dropdown",children:[e.jsxs(D,{className:"nav-link count-indicator dropdown-toggle",id:"messageDropdown",to:"#","data-bs-toggle":"dropdown","aria-expanded":"false",children:[e.jsx("i",{className:"mdi mdi-email-outline"}),e.jsx("span",{className:"count-symbol bg-warning"})]}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-right navbar-dropdown preview-list","aria-labelledby":"messageDropdown",children:[e.jsx("h6",{className:"p-3 mb-0",children:"Messages"}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs(D,{className:"dropdown-item preview-item",children:[e.jsx("div",{className:"preview-thumbnail",children:e.jsx("img",{src:"assets/images/faces/face4.jpg",alt:"image",className:"profile-pic"})}),e.jsxs("div",{className:"preview-item-content d-flex align-items-start flex-column justify-content-center",children:[e.jsx("h6",{className:"preview-subject ellipsis mb-1 font-weight-normal",children:"Mark send you a message"}),e.jsx("p",{className:"text-gray mb-0",children:" 1 Minutes ago "})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs(D,{className:"dropdown-item preview-item",children:[e.jsx("div",{className:"preview-thumbnail",children:e.jsx("img",{src:"/assets/images/faces/face2.jpg",alt:"image",className:"profile-pic"})}),e.jsxs("div",{className:"preview-item-content d-flex align-items-start flex-column justify-content-center",children:[e.jsx("h6",{className:"preview-subject ellipsis mb-1 font-weight-normal",children:"Cregh send you a message"}),e.jsx("p",{className:"text-gray mb-0",children:" 15 Minutes ago "})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs(D,{className:"dropdown-item preview-item",children:[e.jsx("div",{className:"preview-thumbnail",children:e.jsx("img",{src:"assets/images/faces/face3.jpg",alt:"image",className:"profile-pic"})}),e.jsxs("div",{className:"preview-item-content d-flex align-items-start flex-column justify-content-center",children:[e.jsx("h6",{className:"preview-subject ellipsis mb-1 font-weight-normal",children:"Profile picture updated"}),e.jsx("p",{className:"text-gray mb-0",children:" 18 Minutes ago "})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsx("h6",{className:"p-3 mb-0 text-center",children:"4 new messages"})]})]}),e.jsxs("li",{className:"nav-item dropdown",children:[e.jsxs(D,{className:"nav-link count-indicator dropdown-toggle",id:"notificationDropdown",to:"#","data-bs-toggle":"dropdown",children:[e.jsx("i",{className:"mdi mdi-bell-outline"}),e.jsx("span",{className:"count-symbol bg-danger"})]}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-right navbar-dropdown preview-list","aria-labelledby":"notificationDropdown",children:[e.jsx("h6",{className:"p-3 mb-0",children:"Notifications"}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs(D,{className:"dropdown-item preview-item",children:[e.jsx("div",{className:"preview-thumbnail",children:e.jsx("div",{className:"preview-icon bg-success",children:e.jsx("i",{className:"mdi mdi-calendar"})})}),e.jsxs("div",{className:"preview-item-content d-flex align-items-start flex-column justify-content-center",children:[e.jsx("h6",{className:"preview-subject font-weight-normal mb-1",children:"Event today"}),e.jsx("p",{className:"text-gray ellipsis mb-0",children:" Just a reminder that you have an event today "})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs(D,{className:"dropdown-item preview-item",children:[e.jsx("div",{className:"preview-thumbnail",children:e.jsx("div",{className:"preview-icon bg-warning",children:e.jsx("i",{className:"mdi mdi-settings"})})}),e.jsxs("div",{className:"preview-item-content d-flex align-items-start flex-column justify-content-center",children:[e.jsx("h6",{className:"preview-subject font-weight-normal mb-1",children:"Settings"}),e.jsx("p",{className:"text-gray ellipsis mb-0",children:" Update dashboard "})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs(D,{className:"dropdown-item preview-item",children:[e.jsx("div",{className:"preview-thumbnail",children:e.jsx("div",{className:"preview-icon bg-info",children:e.jsx("i",{className:"mdi mdi-link-variant"})})}),e.jsxs("div",{className:"preview-item-content d-flex align-items-start flex-column justify-content-center",children:[e.jsx("h6",{className:"preview-subject font-weight-normal mb-1",children:"Launch Admin"}),e.jsx("p",{className:"text-gray ellipsis mb-0",children:" New admin wow! "})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsx("h6",{className:"p-3 mb-0 text-center",children:"See all notifications"})]})]}),e.jsx("li",{className:"nav-item nav-logout d-none d-lg-block",children:e.jsx("span",{role:"button",className:"nav-link",onClick:xe,children:e.jsx("i",{className:"mdi mdi-power"})})}),e.jsx("li",{className:"nav-item nav-settings d-none d-lg-block",children:e.jsx(D,{className:"nav-link",to:"#",children:e.jsx("i",{className:"mdi mdi-format-line-spacing"})})}),e.jsx("li",{children:e.jsx("button",{className:"navbar-toggler navbar-toggler-right d-lg-none align-self-center",onClick:()=>s(G()),type:"button",children:e.jsx("span",{className:"mdi mdi-menu"})})})]})})]})]})}function Fe(){const s=B(d=>d.general.isSidebarOpen),r=B(d=>d.mailCount.AdminUnreadCount),h=B(d=>d.mailCount.EmployerUnreadCount),m=F(),x=Q(),n=d=>{window.innerWidth<1024&&x(G(!1)),m(d)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:`border shadow ${s?"sidebar-showing":"sidebar-not-showing"}`,children:e.jsxs("nav",{className:"sidebar",id:"sidebar",children:[e.jsx("div",{className:" mt-4 pe-0 d-lg-flex d-none justify-content-end",children:e.jsx(te,{role:"button",onClick:()=>x(G()),fontSize:22})}),e.jsxs("ul",{className:"nav",children:[e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin"),children:e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsx("span",{children:"Dashboard"}),e.jsx("span",{children:e.jsx(ae,{size:"20"})})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/jobqueuelist"),children:e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsx("span",{children:"Jobs Queue List"}),e.jsx("span",{children:e.jsx(q,{size:"20"})})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/myasignjobs"),children:e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsx("span",{children:"Assigned Jobs"}),e.jsx("span",{children:e.jsx(Z,{size:"20"})})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/profiles/queue"),children:e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsx("span",{children:"Profiles Queue"}),e.jsx("span",{children:e.jsx(ne,{size:"20"})})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/profiles/assigned"),children:e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsx("span",{children:"Assigned Profiles"}),e.jsx("span",{children:e.jsx(ie,{size:"20"})})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/adsqueuelist"),children:e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsx("span",{children:"Ads Queue List"}),e.jsx("span",{children:e.jsx(q,{size:"20"})})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/myasignads"),children:e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsx("span",{children:"Assigned Ads"}),e.jsx("span",{children:e.jsx(Z,{size:"20"})})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/employer-queries"),children:e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsx("span",{children:"Employer Queries"}),e.jsx("span",{children:e.jsx(ke,{size:"22"})})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/general-queries"),children:e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsx("span",{children:"General Queries"}),e.jsx("span",{children:e.jsx(le,{size:"20"})})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/inbox"),children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between w-100",children:[e.jsxs("span",{className:"d-flex gap-3 align-items-center",children:[e.jsx("span",{children:"Mail"}),e.jsx("span",{className:"fs-6 text-danger",children:h>0?h:null})]}),e.jsx(V,{size:"22"})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/admin-inbox"),children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between w-100",children:[e.jsxs("span",{className:"d-flex gap-3 align-items-center",children:[e.jsx("span",{children:"Admin Mails"}),e.jsx("span",{className:"fs-6 text-danger",children:r>0?r:null})]}),e.jsx(V,{size:"22"})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/audit"),children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center w-100",children:[e.jsx("span",{children:"Audit Log"}),e.jsx("span",{children:e.jsx(Se,{size:"22"})})]})})}),e.jsx("li",{className:"nav-item",children:e.jsx("div",{className:"nav-link",role:"button",onClick:()=>n("/admin/my-logs"),children:e.jsxs("div",{className:"d-flex justify-content-between pe-1 align-items-center w-100",children:[e.jsx("span",{children:"Admin Logs"}),e.jsx("span",{children:e.jsx(fe,{size:"18"})})]})})})]})]})})})}function Ue(){const[s,r]=i.useState([]),[h,m]=i.useState(0),[x,n]=i.useState(!1),[d,w]=i.useState(!1),[v,A]=T(),[l,a]=i.useState(+v.get("page")||1),[c,o]=i.useState(""),y=Q(),p=P();i.useEffect(()=>{document.title="General Queries",k(l)},[c]);const k=async u=>{n(!0);const t=(u-1)*S;try{const N=await f.get(`/mails/unassigned-mails/general?s=${c}&limit=${S}&skip=${t}`);r(N.data.mails),m(N.data.total)}catch(N){p({status:"Error",error:N})}finally{n(!1)}},M=u=>{o(u.target.value),A(t=>(t.delete("page"),t)),a(1)},j=async u=>{w(!0);try{await f.delete(`/mails/delete/${u._id}`),p({status:"Success",message:"Query deleted"}),k(l)}catch(t){p({status:"Error",error:t})}finally{w(!1)}},b=async u=>{w(!0);try{await f.patch(`/mails/assign-mail?query_id=${u._id}`),p({status:"Success",message:"Assigned Successfully",path:"/admin/inbox"}),y(W())}catch(t){p({status:"Error",error:t})}finally{w(!1)}};return e.jsxs("div",{className:"mt-3 container-fluid",children:[e.jsx("h2",{className:"fw-bold fs-4 text-center",children:"General Queries"}),e.jsx("div",{id:"search-box",className:"my-2",children:e.jsx("input",{type:"text",value:c,onChange:u=>M(u),className:"form-control",placeholder:"Search Queries"})}),e.jsxs(R,{currentPage:l,totalCount:h,setCurrentPage:a,itemsPerPage:S,pageNumberToShow:2,fetchItems:k,children:[x&&e.jsx($,{}),!x&&e.jsxs(ee,{responsive:!0,className:"w-100",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"Date"}),e.jsx("td",{children:"Company"}),e.jsx("td",{children:"Subject"}),e.jsx("td",{children:"Message"}),e.jsx("td",{}),e.jsx("td",{})]})}),e.jsx("tbody",{children:s&&s.length>0&&s.map((u,t)=>{var N,g;return e.jsxs("tr",{children:[e.jsx("td",{children:new Date(u.createdAt).toLocaleDateString("en-GB")}),e.jsx("td",{children:u.chat[0].from}),e.jsx("td",{children:E(u.subject,40)}),e.jsx("td",{children:((N=u.chat)==null?void 0:N.length)>0&&E((g=u==null?void 0:u.chat[0])==null?void 0:g.message,50)}),e.jsx("td",{children:e.jsx("button",{onClick:()=>b(u),disabled:d,className:"btn btn-xs btn-info rounded-4 ",children:"Assign to me"})}),e.jsx("td",{children:e.jsx("button",{type:"button",disabled:d,className:"border-0 bg-white",onClick:()=>j(u),children:e.jsx(je,{fontSize:18})})})]},t)})})]})]})]})}function Be(){const[s,r]=i.useState(null),h=P(),m=async()=>{const{data:n,error:d}=await _(()=>f.get("/companies/profiles/queue"));d&&h({status:"Error",error:d}),n&&r(n)};i.useEffect(()=>{m(),document.title="Profiles Queue"},[]);const x=async n=>{const{data:d,error:w}=await _(()=>f.put(`/companies/profiles/assign/${n}`));w&&h({status:"Error",error:w}),d&&m()};return e.jsxs("div",{className:"container-fluid content-wrapper bg-white",children:[e.jsx("h1",{className:"text-center fw-bold fs-4 mb-3",children:"Profiles Queue"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"Date"}),e.jsx("td",{children:"Company Id"}),e.jsx("td",{children:"Company Name"}),e.jsx("td",{})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(n=>e.jsxs("tr",{children:[e.jsx("td",{children:U(n.created_date)}),e.jsx("td",{children:n.company_id}),e.jsx("td",{children:n.old_profile.name}),e.jsx("td",{children:e.jsx("button",{type:"button",onClick:()=>x(n._id),className:"btn btn-info rounded-4 btn-xs",children:"Assign to me"})})]}))})]})})]})}const Ge=[{field:"name",label:"Name"},{field:"address1",label:"Address 1"},{field:"address2",label:"Address 2"},{field:"address3",label:"Address 3"},{field:"city",label:"City"},{field:"postalCode",label:"Postal Code"},{field:"email",label:"Email"},{field:"contact",label:"Contact Person"},{field:"website",label:"Website"},{field:"youtubeUrl",label:"Youtube"},{field:"info",label:"Info"},{field:"logo",label:"Logo",photo:!0},{field:"banner",label:"Banner",photo:!0}];function He(){var l;const[s,r]=i.useState(null),[h,m]=i.useState(!1),x=H(),n=P(),d=async()=>{m(!0);const{data:a,error:c}=await _(()=>f.put(`/companies/profiles/approve/${s.company_id}`));c&&n({status:"error",error:c}),a&&n({status:"success",message:"Changes Approved",path:"/admin/profiles/assigned"}),m(!1)},w=async()=>{m(!0);const{data:a,error:c}=await _(()=>f.put(`/companies/profiles/reject/${s.company_id}`));c&&n({status:"error",error:c}),a&&n({status:"success",message:"Changes Rejected",path:"/admin/profiles/assigned"}),m(!1)},v=async()=>{const{data:a,error:c}=await _(()=>f.get(`/companies/profiles/changed-profile/${x.id}`));c&&n({status:"Error",error:c,path:"/admin/profiles/assigned"}),a&&r(a)},A=({field:a,label:c,photo:o})=>{if(o)return e.jsxs("div",{className:"row",children:[e.jsxs("span",{className:"col-12 col-md-3",children:[c," :"]}),(s==null?void 0:s.old_profile[a])===(s==null?void 0:s.new_profile[a])||!(s!=null&&s.new_profile[a])?e.jsx("div",{className:"d-flex align-items-center col",children:e.jsx("img",{style:{height:"8rem",width:"8rem"},src:`${z}/uploads/${a}s/${s==null?void 0:s.old_profile[a]}`,className:"rounded-3"})}):e.jsxs("div",{className:"d-flex col flex-wrap align-items-center gap-4",children:[e.jsx("img",{style:{height:"8rem",width:"8rem"},src:`${z}/uploads/${a}s/${s==null?void 0:s.old_profile[a]}`,className:" rounded-3"}),e.jsx(ue,{fontSize:20}),e.jsx("img",{style:{height:"8rem",width:"8rem"},src:`${z}/uploads/${a}s/${s==null?void 0:s.new_profile[a]}`,className:" rounded-3"})]})]});switch(a){case"email":return e.jsxs("div",{className:"row",children:[e.jsxs("span",{className:"col-12 col-md-3",children:[c," :"]}),e.jsxs("span",{className:"col",children:[" ",s==null?void 0:s.old_profile[a]]})]});case"info":return e.jsxs("div",{className:"row",children:[(s==null?void 0:s.new_profile[a])&&e.jsxs("span",{className:"col-12 col-md-3",children:[c," :"]}),(s==null?void 0:s.old_profile[a])===(s==null?void 0:s.new_profile[a])?e.jsxs("span",{className:"col small",children:[" ",E(s==null?void 0:s.old_profile[a])]}):e.jsxs("span",{className:"col",children:[e.jsx("div",{className:"text-decoration-line-through text-danger small",children:E(s==null?void 0:s.old_profile[a])}),e.jsx("div",{className:"text-success fw-bold small",children:E(s==null?void 0:s.new_profile[a])})]})]});default:return e.jsxs("div",{className:"row",children:[(s==null?void 0:s.new_profile[a])&&e.jsxs("span",{className:"col-12 col-md-3",children:[c," :"]}),(s==null?void 0:s.old_profile[a])===(s==null?void 0:s.new_profile[a])?e.jsxs("span",{className:"col",children:[" ",s==null?void 0:s.new_profile[a]]}):e.jsxs("span",{className:"d-flex gap-4  col",children:[e.jsx("span",{className:"text-decoration-line-through text-danger",children:s==null?void 0:s.old_profile[a]}),e.jsx("span",{className:"text-success fw-bold",children:s==null?void 0:s.new_profile[a]})]})]})}};return i.useEffect(()=>{v(),document.title="Profiles Changes"},[]),e.jsxs("div",{className:"container-fluid content-wrapper mt-2 bg-white",children:[e.jsxs("h1",{className:"text-center fw-bold fs-4 mb-2",children:[(l=s==null?void 0:s.old_profile)==null?void 0:l.name," Profile Changes"]}),e.jsxs("div",{className:"d-flex flex-column flex-md-row gap-3 justify-content-end mb-3",children:[e.jsx("button",{type:"button",className:"btn btn-success",disabled:h,onClick:d,children:"Approve"}),e.jsx("button",{type:"button",className:"btn btn-danger",disabled:h,onClick:w,children:"Reject"})]}),e.jsx("div",{className:"d-flex flex-column gap-4",children:s&&Ge.map(a=>e.jsx(A,{...a}))})]})}function We(s){return ce({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"},child:[]}]})(s)}function Oe(){const[s,r]=i.useState(null),h=P(),m=async()=>{const{data:x,error:n}=await _(()=>f.get("/companies/profiles/assigned"));n&&h({status:"Error",error:n}),x&&r(x)};return i.useEffect(()=>{m(),document.title="Profiles"},[]),e.jsxs("div",{className:"container-fluid content-wrapper bg-white",children:[e.jsx("h1",{className:"text-center fw-bold fs-4 mb-3",children:"Assigned Profiles"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"Date"}),e.jsx("td",{children:"Company Id"}),e.jsx("td",{children:"Company Name"}),e.jsx("td",{children:"View"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(x=>e.jsxs("tr",{children:[e.jsx("td",{children:U(x.created_date)}),e.jsx("td",{children:x.company_id}),e.jsx("td",{children:x.old_profile.name}),e.jsx("td",{children:e.jsx("span",{role:"button",onClick:()=>{h({path:`/admin/profiles/profile/${x._id}`})},className:"",children:e.jsx(We,{fontSize:18})})})]}))})]})})]})}class Ke{constructor(){this.admin="/",this.jobQueueList="/jobqueuelist",this.adsQueueList="/adsqueuelist",this.assignedAds="/Myasignads",this.employerQueries="/employer-queries",this.generalQueries="/general-queries",this.inbox="/inbox",this.inboxDetails="/inbox/details/:id",this.assignedJobs="/Myasignjobs",this.viewJob="/view-job/:id",this.viewAd="/view-ad/:id",this.adminInbox="/admin-inbox",this.adminMail="/mail-admin",this.adminInboxDetails="/admin-inbox/details/:id",this.audit="/audit",this.logs="/my-logs",this.queueProfiles="/profiles/queue",this.assignedProfiles="/profiles/assigned",this.companyProfile="/profiles/profile/:id"}getViewJobUrl(r){return`/admin/view-job/${r}`}inboxDetailsUrl(r){return`/admin/inbox/details/${r}`}getAdminInboxDetailsUrl(r){return`/admin/admin-inbox/details/${r}`}getCompanyProfileUrl(r){return`/admin/profiles/profile/${r}`}}const I=new Ke;function ss(){const s=Q(),r=async()=>{try{const{data:h}=await f.get("/mails/unread-mails");s(de(h))}catch(h){console.log(h)}};return i.useEffect(()=>{r(),s(W())},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container-scroller",children:[e.jsx(ze,{}),e.jsxs("div",{className:"container-fluid page-body-wrapper",children:[e.jsx(Fe,{}),e.jsxs(re,{children:[e.jsx(C,{index:!0,element:e.jsx($e,{})}),e.jsx(C,{path:I.jobQueueList,element:e.jsx(De,{})}),e.jsx(C,{path:I.adsQueueList,element:e.jsx(_e,{})}),e.jsx(C,{path:I.employerQueries,element:e.jsx(Je,{})}),e.jsx(C,{path:I.generalQueries,element:e.jsx(Ue,{})}),e.jsx(C,{path:I.inbox,element:e.jsx(Le,{})}),e.jsx(C,{path:I.inboxDetails,element:e.jsx(Ie,{name:"Admin"})}),e.jsx(C,{path:I.assignedJobs,element:e.jsx(Re,{})}),e.jsx(C,{path:I.assignedAds,element:e.jsx(Pe,{})}),e.jsx(C,{path:I.viewJob,element:e.jsx(Me,{})}),e.jsx(C,{path:I.viewAd,element:e.jsx(Te,{})}),e.jsx(C,{path:I.adminInbox,element:e.jsx(Ne,{})}),e.jsx(C,{path:I.adminMail,element:e.jsx(ve,{})}),e.jsx(C,{path:I.adminInboxDetails,element:e.jsx(we,{})}),e.jsx(C,{path:I.audit,element:e.jsx(ye,{})}),e.jsx(C,{path:I.logs,element:e.jsx(Ae,{})}),e.jsx(C,{path:I.queueProfiles,element:e.jsx(Be,{})}),e.jsx(C,{path:I.assignedProfiles,element:e.jsx(Oe,{})}),e.jsx(C,{path:I.companyProfile,element:e.jsx(He,{})}),e.jsx(C,{path:"*",element:e.jsx(ge,{})})]})]}),e.jsx(Ce,{})]})})}export{ss as default};

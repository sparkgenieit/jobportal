import{r as a,j as s,B as p,ap as f,au as h,w as g}from"./index-DW7Jtefv.js";import{U as u,t as j}from"./index-BjWyLh7X.js";import{b}from"./index-gk-hcfRW.js";const w=({imageUrl:t,ad:e})=>{console.log("adddd",e);const i=t&&t.includes("blob")?t:`${p}/uploads/ads/${e.image}`;return s.jsxs("div",{className:"h-[280px] w-[250px] text-sm rounded-md flex flex-col gap-2 justify-between border border-slate-800 shadow-md p-2",children:[i&&s.jsx("img",{style:{maxWidth:"300px",maxHeight:"200px"},className:"rounded border border-secondary me-md-3 mb-3 mb-md-0",src:i,alt:e.title}),s.jsx("h4",{className:"text-xl p-0 m-0 font-bold",children:e==null?void 0:e.title}),s.jsx("p",{className:"text-slate-700 overflow-hidden p-0 m-0 grow text-ellipsis",children:e==null?void 0:e.description}),s.jsxs("div",{className:"flex gap-1 items-center",children:[s.jsx(f,{})," ",e==null?void 0:e.location]}),s.jsxs("div",{className:"flex gap-1 items-center",children:["$ ",e==null?void 0:e.price]}),s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsxs("div",{className:"relative group flex items-center gap-2",children:[s.jsx("span",{className:"absolute top-0 left-0 p-2 bg-white rounded-full shadow-md",style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:"👁️"}),s.jsx("a",{href:e==null?void 0:e.website,target:"_blank",className:"relative",children:"website"}),s.jsx("div",{className:"absolute top-0 left-0 hidden group-hover:block",children:s.jsx("iframe",{src:e==null?void 0:e.website,title:"Website Preview",className:"rounded-md overflow-hidden",style:{width:"300px",height:"200px"}})})]}),s.jsx(u,{fontSize:16}),s.jsx(b,{fontSize:16}),s.jsx(h,{role:"button",fill:"red",color:"red"})]})]})};function A({page:t,category:e}){const[i,d]=a.useState(null);return a.useEffect(()=>{(async()=>{const{data:r,error:v}=await j(()=>g.getPageSpecificAds(t));console.log("Page Data:",r);const c=new Date,o=r==null?void 0:r.filter(n=>{const x=new Date(n.start_date),m=new Date(n.end_date);return c>=x&&c<=m});o&&o.length>0&&d(o)})()},[t,e]),s.jsx("div",{className:"grid grow grid-cols-3 gap-10 px-2",children:i&&i.map(l=>s.jsx(w,{ad:l},l._id))})}export{A as C,w as S};
